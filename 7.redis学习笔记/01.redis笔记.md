# 1. 链接

- [Redis官网](https://redis.io/)
- [Redis中文网址](http://www.redis.cn/)
- [Github链接](https://github.com/redis/redis/)



# 2. Linux下安装

- 下载安装包
- 解压redis安装包，程序/opt
- 基本的环境安装

```bash
yum -y install gcc-c++
# 查看gcc版本
gcc -v

make
make install
```

- redis 默认安装路径 `/usr/local/bin`
- 将源码路径下redis配置文件，复制到`/usr/local/bin/myconfig/`

- 修改`redis.conf`配置文件
- 客户端进行验证
- 检测redis默认端口是否在使用中，如在使用则安装程。 netstat -ntlp grep 6379
- 查看redis进程是否开启`ps -ef |grep redis`

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200907103256811.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)

- 如何关闭redis服务 `shutdown`  不建议使用，防止把服务器给关掉
- [阿里云安装Redis教程与相关问题](https://www.cnblogs.com/blackBlog/p/12924891.html

# 3. 性能测试 - redis-benchmark

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200907105245658.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)

测试：100个并发链接，100000请求！

```bash
redis-benchmark -h localhost -p 6379 -c 100 -n 100000
```

![在这里插入图片描述](https://img-blog.csdnimg.cn/20200907105910353.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZhbmppYW5oYWk=,size_16,color_FFFFFF,t_70#pic_center)

# 4. Redis基础知识

- redis默认有16个数据库
- 选择数据库`select index`
- 查看当前数据库的大小`dbsize`
- 清空当前数据库`flushdb` \ 清空所有数据库`flushall`
- 查看指定key是否存在`EXISTS key`
- 移出指定的key`move key 1`
- 让指定数据在指定的时间失效`expire key 10`,单位是秒
- 查看当前key的剩余时间`ttl key`
- 查看指定key的类型`type key`

- [Redis更多命令](http://www.redis.cn/commands.html)

# 5. 五大数据类型

## 5.1. String类型

- 追加字符串`APPEND key value`
- 获取字符串的长度`STRLEN`
- 自增/自减运算 `INCR/DECR`
- 自增/自减指定的值 `INCRBY/DECRBY`

- 获取某个范围`GETRANGE`的字符串
- 替换某个范围的字符串`SETRANGE`
- 设置过期时间`SETEX`

- 不存在的时候才设置`SETNX`
- 批量设置/获取值`MSET,MSETNX/MGET`

- 获取当前的值的同时设置一个新值`GETSET`



## 5.2. List类型

- List当中插入一个元素`LPUSH/RPUSH`
- List当中获取指定元素`LRANGE`
- 移出List集合中的一个元素`LPOP/RPOP`
- 移出List集合中指定的元素`LREM`
- 根据索引（下标）获取集合中元素值`LINDEX`

- 获取List的长度`LLEN`
- 裁剪List为原来的一部分（直接修改原有List集合）

- 移出列表的最后一个元素，并移动到新的列表中`RPOPLPUSH`

- 将列表中指定的下标值替换为另一个值，更新操作，如果下标不存在就会报错
- 在list集合中的指定元素前面插入值`linsert lst before world xiaofan`

## 5.3.Set集合

- 集合中添加元素`sadd myset hello kuangshen lovekuangshen`
- 查看集合中的元素`SMEMBERS`
- 判断某个元素是否存在于集合中`SISMEMBER myset hello`

- 获取集合中元素个数`SCARD`
- 移出集合中指定的元素值`SREM`
- 随机获取Set集合中的值`SRANDMEMBER`
- 随机删除集合中的一个元素`SPOP`
- 移动指定的元素到另一个集合当中去`SMOVE`
- 差集/交集/并集`SDIFF/SINTER/SUNION`

## 5.4. Hash集合

- 设置一个具体的字段值`hset myhash field2 value2`
- 设置多个个具体的字段值`hmset myhash field2 value2 field3 value3`

- 获取多个指定的字段值`hmget myhash field1 field2`
- 获取全部的值`hgetall myhash`
- 删除hash指定的键`HDEL myhash field1`
- 获取键值对的个数`HLEN`判断hash中指定字段是否存在`HEXISTS`
- 获取所有的key、value`HKEYS/HVALS`

## 5.5. Zset有序集合

- 添加元素`zadd myset 1 one 2 two 3 three`
- 获取所有元素`zrange myset 0 -1`
- 排序`ZREVRANGEBYSCORE key max min WITHSCORES LIMIT offset count`
- 升序/降序`zrange myzset 0 -1/ZREVRANGE myzset 0 -1`

- 获取指定区间的元素个数` zcount myzset 1 4`

# 6. 三种特殊的饿数据类型

